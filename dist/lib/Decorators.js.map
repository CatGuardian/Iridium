{"version":3,"sources":["lib/Decorators.ts"],"names":["Index","Identifier","Validate"],"mappings":"AAMA,eAAsB,IAAwB,EAAE,OAA8B;IAC7EA,MAAMA,CAACA,UAASA,MAAuBA;QACtC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;QAEtC,EAAE,CAAC,CAAC,OAAO,CAAC;YAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;QAC1E,IAAI;YAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACjD,CAAC,CAAAA;AACFA,CAACA;AAPe,aAAK,QAOpB,CAAA;AAED,oBAA2B,MAA2B,EAAE,IAAyB;IAChFC,MAAMA,CAACA,UAASA,MAAuBA;QACtC,MAAM,CAAC,UAAU,GAAG;YACnB,KAAK,EAAE,MAAM;YACb,OAAO,EAAE,IAAI;SACb,CAAC;IACH,CAAC,CAAAA;AACFA,CAACA;AAPe,kBAAU,aAOzB,CAAA;AAED,kBAAyB,IAAS;IACjCC,MAAMA,CAACA,UAASA,MAAuBA,EAAEA,IAAYA,EAAEA,UAAeA;QACrE,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC;QAE/B,MAAM,CAAC,UAAU,CAAC;IACnB,CAAC,CAAAA;AACFA,CAACA;AANe,gBAAQ,WAMvB,CAAA","file":"lib/Decorators.js","sourcesContent":["/// <reference path=\"../_references.d.ts\" />\r\nimport MongoDB = require('mongodb');\r\n\r\nimport Instance from './Instance';\r\nimport {Index, IndexSpecification} from './Index';\r\n\r\nexport function Index(spec: IndexSpecification, options?: MongoDB.IndexOptions) {\r\n\treturn function(target: typeof Instance) {\r\n\t\ttarget.indexes = target.indexes || [];\r\n\t\t\r\n\t\tif (options) target.indexes.push(<Index>{ spec: spec, options: options });\r\n\t\telse target.indexes.push(<Index>{ spec: spec });\r\n\t}\r\n}\r\n\r\nexport function Identifier(fromDB: (value: any) => any, toDB: (value: any) => any) {\r\n\treturn function(target: typeof Instance) {\r\n\t\ttarget.identifier = {\r\n\t\t\tapply: fromDB,\r\n\t\t\treverse: toDB\r\n\t\t};\r\n\t}\r\n}\r\n\r\nexport function Validate(type: any) {\r\n\treturn function(target: typeof Instance, name: string, descriptor: any) {\r\n\t\tdescriptor.validateType = type;\r\n\t\t\r\n\t\treturn descriptor;\r\n\t}\r\n}"],"sourceRoot":"/source/"}