{"version":3,"sources":["lib/cacheControllers/IDDirector.ts"],"names":["IDCacheDirector","IDCacheDirector.constructor","IDCacheDirector.valid","IDCacheDirector.buildKey","IDCacheDirector.validQuery","IDCacheDirector.buildQueryKey"],"mappings":"AAEA,IAAO,OAAO,WAAW,SAAS,CAAC,CAAC;AAEpC;IAAAA;IAoBAC,CAACA;IAnBGD,+BAAKA,GAALA,UAAMA,MAAoBA;QACtBE,MAAMA,CAACA,CAACA,CAACA,MAAMA,CAACA,GAAGA,CAACA;IACxBA,CAACA;IAEDF,kCAAQA,GAARA,UAASA,MAAoBA;QACzBG,EAAEA,CAACA,CAACA,MAAMA,CAACA,GAAGA,CAACA,SAASA,IAAIA,UAAUA,CAACA;YACnCA,MAAMA,CAACA,IAAIA,OAAOA,CAACA,QAAQA,CAACA,MAAMA,CAACA,GAAGA,CAACA,EAAEA,CAACA,CAACA,WAAWA,EAAEA,CAACA;QAC7DA,MAAMA,CAACA,MAAMA,CAACA,GAAGA,CAACA;IACtBA,CAACA;IAEDH,oCAAUA,GAAVA,UAAWA,UAAUA;QACjBI,MAAMA,CAACA,CAACA,CAACA,UAAUA,CAACA,GAAGA,CAACA;IAC5BA,CAACA;IAEDJ,uCAAaA,GAAbA,UAAcA,UAAUA;QACpBK,EAAEA,CAACA,CAACA,UAAUA,CAACA,GAAGA,CAACA,SAASA,IAAIA,UAAUA,CAACA;YACvCA,MAAMA,CAACA,IAAIA,OAAOA,CAACA,QAAQA,CAACA,UAAUA,CAACA,GAAGA,CAACA,EAAEA,CAACA,CAACA,WAAWA,EAAEA,CAACA;QACjEA,MAAMA,CAACA,UAAUA,CAACA,GAAGA,CAACA;IAC1BA,CAACA;IACLL,sBAACA;AAADA,CApBA,AAoBCA,IAAA;AApBD,iCAoBC,CAAA","file":"lib/cacheControllers/IDDirector.js","sourcesContent":["/// <reference path=\"../../_references.d.ts\" />\r\nimport {CacheDirector} from '../CacheDirector';\r\nimport MongoDB = require('mongodb');\r\n\r\nexport default class IDCacheDirector implements CacheDirector{\r\n    valid(object: { _id: any }) {\r\n        return !!object._id;\r\n    }\r\n\r\n    buildKey(object: { _id: any }) {\r\n        if (object._id._bsontype == 'ObjectID')\r\n            return new MongoDB.ObjectID(object._id.id).toHexString();\r\n        return object._id;\r\n    }\r\n\r\n    validQuery(conditions) {\r\n        return !!conditions._id;\r\n    }\r\n\r\n    buildQueryKey(conditions) {\r\n        if (conditions._id._bsontype == 'ObjectID')\r\n            return new MongoDB.ObjectID(conditions._id.id).toHexString();\r\n        return conditions._id;\r\n    }\r\n}"],"sourceRoot":"/source/"}